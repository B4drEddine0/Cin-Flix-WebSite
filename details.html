<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Details</title>
</head>
<body>
    <header class="container">
        <nav class="navbar">
            <div>
                <img src="images/logo.svg" alt="logo">
            </div>
            <div>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#sec3">Movies</a></li>
                    <li><a href="">Favoris</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="details1">
        <div class="container det1">
            <div>
                <h3>#1 Most Popular</h3>
                <h1>Mojave Diamonds</h1>
                <p>Denji has a simple dream—to live a happy and peaceful life, spending time with a girl he likes. This is a far cry from reality, however, as Denji is forced by the yakuza into killing devils in order to pay off his crushing debts. Using his pet devil Pochita as a ...
                </p>
                <img src="images/stars.png" alt="stars">
                <p>Action • Movie</p>
                <button class="btn1">Watch Now</button>
                <button class="btn2">Trailer</button>
            </div>
            <div>
                <img src="images/mv2.png" alt="img2" class="img2">
                <div class="btns">
                    <a href=""><img src="images/addlist.svg" alt="addlist" id="list" style="width: 15%;margin-right: 60px;margin-top: 10px;"></a>
                    <a href=""><img src="images/share.svg" alt="share"></a>
                    <a href=""><img src="images/like.svg" alt="like" id="like"></a> <p style="margin-left: 300px; font-weight: 600; display: inline-block;margin-left: 260px;width: 12%;" id="like-count">1555</p> <span style="color: #FFB100;font-size: 20px;">Likes</span>
                </div>
            </div>
        </div>
    </main>

    <section class="container det2">
        <div class="sec3-top">
            <h1>
                Similar Movies for you
            </h1>
            <div style="width:75%;">
             <hr>   
            </div>
            
        </div>
        <div class="movies" style="gap: 15px;text-align: center;">
            <div class="movie-card" data-title="Hypnotic" data-image="images/mv1.png">
                 
                <img src="images/mv1.png" alt="Movies">
                <h3>Hypnotic</h3>
                <p><pre>2024        104m</pre></p>
    </div>
        <div class="movie-card" data-title="Mojave Diamonds" data-image="images/mv2.png">
            <img src="images/mv2.png" alt="Movies">
            <h3>Mojave Diamonds</h3>
            <p><pre>2024        104m</pre></p>
        </div>
        <div class="movie-card" data-title="Mojave" data-image="images/mv3.png">
            <img src="images/mv3.png" alt="Movies">
            <h3>Mojave</h3>
            <p><pre>2024        104m</pre></p>
        </div>
        <div class="movie-card" data-title="Crossfire" data-image="images/mv4.png">
            <img src="images/mv4.png" alt="Movies">
            <h3>Crossfire</h3>
            <p><pre>2024        104m</pre></p>
        </div>
        <div class="movie-card" data-title="Fast X" data-image="images/mv5.png">
            <img src="images/mv5.png" alt="Movies">
            <h3>Fast X</h3>
            <p><pre>2024        104m</pre></p>
        </div>
        <div class="movie-card" data-title="The Pregnancy" data-image="images/mv6.png">
            <img src="images/mv6.png" alt="Movies">
            <h3>The Pregnancy </h3>
            <p><pre>2024        104m</pre></p>
        </div>
        </div>
    </section>


    <section class="container det3">
        <div class="sec3-top">
            <h1>
                Comments
            </h1>
            <div style="width:75%;">
             <hr>   
            </div>
        </div>
            <div class="search">
                <img src="images/profile.svg" alt="profile">
                <input id="search" type="text" placeholder="Type To comment">
                <button id="comment-btn" type="submit">Post</button>
           </div>
           <div class="Comments" style="overflow-y: scroll;height: 58vh;">
            <div class="com">
                <div class="prof">
                    <img src="images/comment1.svg" alt="profile">
                </div>
                <div class="comment detail">
                    <h1>Andrew Jones</h1>
                    <h3>Product Developer at Webflow</h3>
                    <p>It works really wonders in the hybrid culture. No echo and seamless integration with the current workflow. Love this application.</p>
                    <div class="rating">
                        <p>Rating :</p>
                        <img src="images/Rating.svg" alt="stars" id="rateImg">
                        <p>4.6</p>
                    </div>
                </div>
            </div>
            <div class="com">
                <div class="prof">
                    <img src="images/comment2.svg" alt="profile">
                </div>
                <div class="comment detail">
                    <h1>Lauren White</h1>
                    <h3>Product Manager at Zapier</h3>
                    <p>It works really wonders in the hybrid culture. No echo and seamless integration with the current workflow. Love this application.</p>
                    <div class="rating">
                        <p>Rating :</p>
                        <img src="images/Rating.svg" alt="stars" id="rateImg">
                        <p>4.6</p>
                    </div>
                </div>
            </div>
            <div class="com">
                <div class="prof">
                    <img src="images/comment3.svg" alt="profile">
                </div>
                <div class="comment detail">
                    <h1>Adam Smith</h1>
                    <h3>Web Designer at Spotify</h3>
                    <p>It works really wonders in the hybrid culture. No echo and seamless integration with the current workflow. Love this application.</p>
                    <div class="rating">
                        <p>Rating :</p>
                        <img src="images/Rating.svg" alt="stars" id="rateImg">
                        <p>4.6</p>
                    </div>
                </div>
            </div>
           </div>
    </section>

    <footer>
        <div class="foot-top">
             <h1>
                Follow us!
             </h1>
        </div>
       
        <div class="foot-mid">
            <hr>
        </div>
        <div class="foot-bottom">
            <p>© Copyright  2024 BadrEddine | All rights reserved</p>

            <ul>
                <li><a href=""><img src="images/yt-light.svg" alt="icons"></a></li>
                <li><a href=""><img src="images/upwork2-light.svg" alt="icons"></a></li>
                <li><a href=""><img src="images/github-light.svg" alt="icons"></a></li>
                <li><a href=""><img src="images/linkedin-light.svg" alt="icons"></a></li>
            </ul>
        </div>
    </footer>

<script defer>
    const like = document.getElementById('like');
    var likeCount = document.getElementById('like-count');
    let likeinteger = parseInt(likeCount.textContent);
    console.log(typeof(likeCount));

function liked(e){
    e.preventDefault();
    if(like.src.endsWith("like.svg")){
        likeinteger++;
        likeCount.textContent = likeinteger;
        like.src ="images/liked.svg";
        
    }else{
        like.src = "images/like.svg";
        likeinteger--;
        likeCount.textContent = likeinteger;
    }
}
like.addEventListener("click",liked);

/***********************************************/
var input = document.getElementById('search');
var index = 1;
index = localStorage.getItem("Limit");

function addComment() {
    const comments = document.querySelector('.Comments');
    const commentaire = input.value;
    

    const newComment = `
        <div class="com">
            <div class="prof">
                <img src="images/anony.svg" alt="profile">
            </div>
            <div class="comment detail">
                <h1>Anonymous</h1>
                <h3>Website Visitor</h3>
                <p>${commentaire}</p>
                <div class="rating">
                    <p>Rating :</p>
                    <img src="images/Rating.svg" alt="stars" class="rateImg" style="cursor:pointer;" onclick="AddRate(this)">
                    <input type="text" class="rating-input" style="display:none;" placeholder="Enter rating (e.g., 4.6)" onblur="updateRate(this)">
                    <p class="rating-value"></p>
                </div>
            </div>
        </div>
    `;

    comments.innerHTML += newComment;
    localStorage.setItem('comment'+index,newComment);
    alert("Your Comment has been Added");
    input.value = "";
    index++;
    localStorage.setItem("Limit",index);
}


const comments = document.querySelector('.Comments');
var limit = localStorage.getItem("Limit");
    for(i = 0; i <= limit;i++){
        if(localStorage.getItem("comment"+i) !== null){
            comments.innerHTML += localStorage.getItem("comment"+i);
        }
    }



/*******************************************************************************************/

function AddRate(img) {
    const input = img.nextElementSibling; 
    input.style.display = 'block'; 
    input.focus();
}

function updateRate(input) {
    const ratingValue = input.nextElementSibling;
    const ratingText = input.value;
    ratingValue.innerText = ratingText;
    input.style.display = 'none'; 
}

document.getElementById('comment-btn').addEventListener('click', addComment);
/*****************************************************************************************/
    const title = localStorage.getItem('movieTitle');
    const image = localStorage.getItem('movieImage');

    document.querySelector('h1').textContent = title; 
    document.querySelector('.img2').src = image; 

    /***********************************************************************************/
    const list = document.getElementById('list');
   
function listed(e){
    e.preventDefault();
    if(list.src.endsWith("list.svg")){
        list.src ="images/listadded.png";
        
    }else{
        list.src = "images/addlist.svg";
    }
}
list.addEventListener("click",listed);

</script>



</script>
</body>
</html>